{"remainingRequest":"C:\\Users\\alade\\Desktop\\kaffir\\kaffir\\kaffir-frontend\\kaffir\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\alade\\Desktop\\kaffir\\kaffir\\kaffir-frontend\\kaffir\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\alade\\Desktop\\kaffir\\kaffir\\kaffir-frontend\\kaffir\\src\\store\\actions.js","dependencies":[{"path":"C:\\Users\\alade\\Desktop\\kaffir\\kaffir\\kaffir-frontend\\kaffir\\src\\store\\actions.js","mtime":1621856042904},{"path":"C:\\Users\\alade\\Desktop\\kaffir\\kaffir\\kaffir-frontend\\kaffir\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\alade\\Desktop\\kaffir\\kaffir\\kaffir-frontend\\kaffir\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\alade\\Desktop\\kaffir\\kaffir\\kaffir-frontend\\kaffir\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBoYW5kbGVFcnJvcjogZnVuY3Rpb24gaGFuZGxlRXJyb3IoY29udGV4dCwgZXJyb3IpIHsKICAgIGlmIChlcnJvci5yZXF1ZXN0LnN0YXR1cyA9PSA0MjIpIHsKICAgICAgdmFyIHJlc3AgPSBKU09OLnBhcnNlKGVycm9yLnJlcXVlc3QucmVzcG9uc2UpOwogICAgICB2YXIgZXJyID0gcmVzcC5lcnJvcjsKICAgICAgdmFyIG1zZyA9ICcnOwoKICAgICAgZm9yICh2YXIgaXRlbSBpbiBlcnIpIHsKICAgICAgICBtc2cgPSBlcnJbaXRlbV1bMF07CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIGNvbnRleHQuY29tbWl0KCdzZXROb3RpZmljYXRpb24nLCB7CiAgICAgICAgdHlwZTogMiwKICAgICAgICBtZXNzYWdlOiBtc2cKICAgICAgfSk7CiAgICAgIHJldHVybiBtc2c7CiAgICB9IGVsc2UgaWYgKGVycm9yLnJlcXVlc3Quc3RhdHVzID09IDMwMykgewogICAgICByZXNwID0gSlNPTi5wYXJzZShlcnJvci5yZXF1ZXN0LnJlc3BvbnNlKTsKICAgICAgY29udGV4dC5jb21taXQoJ3NldE5vdGlmaWNhdGlvbicsIHsKICAgICAgICB0eXBlOiAyLAogICAgICAgIG1lc3NhZ2U6IHJlc3AuZXJyb3IKICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKGVycm9yLnJlcXVlc3Quc3RhdHVzID09IDQwNCkgewogICAgICByZXNwID0gSlNPTi5wYXJzZShlcnJvci5yZXF1ZXN0LnJlc3BvbnNlKTsKICAgICAgbXNnID0gJ1JlcXVlc3Qgbm90IGZvdW5kJzsKICAgICAgY29udGV4dC5jb21taXQoJ3NldE5vdGlmaWNhdGlvbicsIHsKICAgICAgICB0eXBlOiAyLAogICAgICAgIG1lc3NhZ2U6IG1zZwogICAgICB9KTsKICAgIH0gZWxzZSBpZiAoZXJyb3IucmVxdWVzdC5zdGF0dXMgPT0gNDAwKSB7CiAgICAgIHJlc3AgPSBKU09OLnBhcnNlKGVycm9yLnJlcXVlc3QucmVzcG9uc2UpOwogICAgICBtc2cgPSByZXNwLm1zZzsKICAgICAgY29udGV4dC5jb21taXQoJ3NldE5vdGlmaWNhdGlvbicsIHsKICAgICAgICB0eXBlOiAyLAogICAgICAgIG1lc3NhZ2U6IG1zZwogICAgICB9KTsKICAgIH0gZWxzZSBpZiAoZXJyb3IucmVxdWVzdC5zdGF0dXMgPT0gNDAxKSB7CiAgICAgIG1zZyA9ICdPb3BzISBBdXRoZW50aWNhdGlvbiBlcnJvciwgUGxlYXNlIGxvZ2luIGFnYWluJzsKICAgICAgY29udGV4dC5jb21taXQoJ3NldE5vdGlmaWNhdGlvbicsIHsKICAgICAgICB0eXBlOiAyLAogICAgICAgIG1lc3NhZ2U6IG1zZwogICAgICB9KTsKICAgICAgY29udGV4dC5jb21taXQoJ2xvZ291dCcpOwogICAgfSBlbHNlIHsKICAgICAgbXNnID0gJ09vcHMhIHNlcnZlciBlcnJvciwgUGxlYXNlIHRyeSBhZ2Fpbic7CiAgICAgIGNvbnRleHQuY29tbWl0KCdzZXROb3RpZmljYXRpb24nLCB7CiAgICAgICAgdHlwZTogMiwKICAgICAgICBtZXNzYWdlOiBtc2cKICAgICAgfSk7CiAgICB9CiAgfSwKICBwb3N0OiBmdW5jdGlvbiBwb3N0KGNvbnRleHQsIGRhdGEpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIGF4aW9zLnBvc3QoY29udGV4dC5zdGF0ZS5lbmRwb2ludCArIGRhdGEuZW5kcG9pbnQsIGRhdGEuZGV0YWlscywgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICdCZWFyZXIgJyArIGNvbnRleHQuc3RhdGUudG9rZW4KICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZXNvbHZlKGRhdGEpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7IC8vIGNvbnRleHQuZGlzcGF0Y2goJ2hhbmRsZUVycm9yJywgZXJyb3IpOwoKICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgZ2V0OiBmdW5jdGlvbiBnZXQoY29udGV4dCwgZW5kcG9pbnQpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIGF4aW9zLmdldChjb250ZXh0LnN0YXRlLmVuZHBvaW50ICsgZW5kcG9pbnQsIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiAnQmVhcmVyICcgKyBjb250ZXh0LnN0YXRlLnRva2VuCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmVzb2x2ZShkYXRhKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29udGV4dC5kaXNwYXRjaCgnaGFuZGxlRXJyb3InLCBlcnJvcik7CiAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["C:/Users/alade/Desktop/kaffir/kaffir/kaffir-frontend/kaffir/src/store/actions.js"],"names":["axios","handleError","context","error","request","status","resp","JSON","parse","response","err","msg","item","commit","type","message","post","data","Promise","resolve","reject","state","endpoint","details","headers","Authorization","token","then","catch","console","log","get","dispatch"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\n\r\nexport default{\r\n    handleError(context, error){\r\n        if(error.request.status == 422){\r\n            var resp = JSON.parse(error.request.response);\r\n            var err = resp.error;\r\n            var msg = '';\r\n            for(var item in err){\r\n                msg = err[item][0];\r\n                break;\r\n            }\r\n            context.commit('setNotification', {type : 2, message: msg});\r\n            return msg;\r\n        }\r\n        else if (error.request.status == 303) {\r\n            resp = JSON.parse(error.request.response);\r\n            context.commit('setNotification', { type: 2, message: resp.error });\r\n        } \r\n        else if (error.request.status == 404) {\r\n            resp = JSON.parse(error.request.response);\r\n            msg = 'Request not found';\r\n            context.commit('setNotification', { type: 2, message: msg });\r\n        } \r\n        else if (error.request.status == 400) {\r\n            resp = JSON.parse(error.request.response);\r\n            msg = resp.msg;\r\n            context.commit('setNotification', { type: 2, message: msg });\r\n        } \r\n        else if (error.request.status == 401) {\r\n            msg = 'Oops! Authentication error, Please login again';\r\n            context.commit('setNotification', { type: 2, message: msg });\r\n            context.commit('logout');\r\n        } \r\n        else {\r\n            msg = 'Oops! server error, Please try again';\r\n            context.commit('setNotification', { type: 2, message: msg });\r\n        }\r\n    }, \r\n    \r\n    post(context, data){\r\n        return new Promise((resolve, reject) => {\r\n            axios.post(context.state.endpoint + data.endpoint, data.details, {\r\n                headers: { Authorization: 'Bearer ' + context.state.token},\r\n            })\r\n            .then((data)=>{\r\n                resolve(data);\r\n            })\r\n            .catch((error)=>{\r\n                console.log(error);\r\n                // context.dispatch('handleError', error);\r\n                reject(error);\r\n            })\r\n        });\r\n    },\r\n\r\n\r\n    get(context, endpoint){\r\n        return new Promise((resolve, reject) => {\r\n            axios.get(context.state.endpoint + endpoint, {\r\n                headers: {\r\n                    Authorization: 'Bearer ' + context.state.token,\r\n                },\r\n            })\r\n            .then((data)=>{\r\n                resolve(data);\r\n            })\r\n            .catch((error)=>{\r\n                context.dispatch('handleError', error);\r\n                reject(error);\r\n            })\r\n        });\r\n    }\r\n}"]}]}